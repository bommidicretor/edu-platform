{"ast":null,"code":"import{useState,useEffect}from\"react\";import SubjectDropdown from\"./SubjectDropdown\";import TopicList from\"./TopicList\";import{Menu}from\"lucide-react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function MainLayout(_ref){let{grade}=_ref;const[selectedSubject,setSelectedSubject]=useState(null);const[selectedChapter,setSelectedChapter]=useState(null);const[menuOpen,setMenuOpen]=useState(false);useEffect(()=>{if(grade.subjects.length>0){setSelectedSubject(grade.subjects[0]);setSelectedChapter(grade.subjects[0].chapters[0]);}},[grade]);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-full h-screen relative\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"absolute top-4 left-4 z-30 p-2 bg-blue-500 text-white rounded-md lg:hidden\",onClick:()=>setMenuOpen(true),children:/*#__PURE__*/_jsx(Menu,{size:20})}),/*#__PURE__*/_jsx(\"div\",{className:\"fixed lg:static top-0 left-0 h-full w-64 bg-white border-r p-4 overflow-y-auto transform transition-transform duration-300 ease-in-out z-20\\n          \".concat(menuOpen?\"translate-x-0\":\"-translate-x-full\",\" \\n          lg:translate-x-0 lg:w-2/5\"),children:grade.subjects.map((subject,idx)=>/*#__PURE__*/_jsx(SubjectDropdown,{subject:subject,expanded:subject===selectedSubject,onExpand:()=>setSelectedSubject(subject),selectedChapter:selectedChapter,onSelectChapter:ch=>{setSelectedChapter(ch);setMenuOpen(false);}},idx))}),menuOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-40 z-10 lg:hidden\",onClick:()=>setMenuOpen(false)}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 lg:w-3/5 p-6 overflow-y-auto\",children:selectedChapter&&/*#__PURE__*/_jsx(TopicList,{topics:selectedChapter.topics})})]});}","map":{"version":3,"names":["useState","useEffect","SubjectDropdown","TopicList","Menu","jsx","_jsx","jsxs","_jsxs","MainLayout","_ref","grade","selectedSubject","setSelectedSubject","selectedChapter","setSelectedChapter","menuOpen","setMenuOpen","subjects","length","chapters","className","children","onClick","size","concat","map","subject","idx","expanded","onExpand","onSelectChapter","ch","topics"],"sources":["/Users/hariprasad/Documents/GitHub/edu-platform/src/MainLayout.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport SubjectDropdown from \"./SubjectDropdown\";\nimport TopicList from \"./TopicList\";\nimport { Menu } from \"lucide-react\";\n\nexport default function MainLayout({ grade }) {\n  const [selectedSubject, setSelectedSubject] = useState(null);\n  const [selectedChapter, setSelectedChapter] = useState(null);\n  const [menuOpen, setMenuOpen] = useState(false);\n\n  useEffect(() => {\n    if (grade.subjects.length > 0) {\n      setSelectedSubject(grade.subjects[0]);\n      setSelectedChapter(grade.subjects[0].chapters[0]);\n    }\n  }, [grade]);\n\n  return (\n    <div className=\"flex w-full h-screen relative\">\n      <button\n        className=\"absolute top-4 left-4 z-30 p-2 bg-blue-500 text-white rounded-md lg:hidden\"\n        onClick={() => setMenuOpen(true)}\n      >\n        <Menu size={20} />\n      </button>\n\n      <div\n        className={`fixed lg:static top-0 left-0 h-full w-64 bg-white border-r p-4 overflow-y-auto transform transition-transform duration-300 ease-in-out z-20\n          ${menuOpen ? \"translate-x-0\" : \"-translate-x-full\"} \n          lg:translate-x-0 lg:w-2/5`}\n      >\n        {grade.subjects.map((subject, idx) => (\n          <SubjectDropdown\n            key={idx}\n            subject={subject}\n            expanded={subject === selectedSubject}\n            onExpand={() => setSelectedSubject(subject)}\n            selectedChapter={selectedChapter}\n            onSelectChapter={(ch) => {\n              setSelectedChapter(ch);\n              setMenuOpen(false);\n            }}\n          />\n        ))}\n      </div>\n\n      {menuOpen && (\n        <div\n          className=\"fixed inset-0 bg-black bg-opacity-40 z-10 lg:hidden\"\n          onClick={() => setMenuOpen(false)}\n        ></div>\n      )}\n\n      <div className=\"flex-1 lg:w-3/5 p-6 overflow-y-auto\">\n        {selectedChapter && <TopicList topics={selectedChapter.topics} />}\n      </div>\n    </div>\n  );\n}"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,CAAAC,eAAe,KAAM,mBAAmB,CAC/C,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,OAASC,IAAI,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpC,cAAe,SAAS,CAAAC,UAAUA,CAAAC,IAAA,CAAY,IAAX,CAAEC,KAAM,CAAC,CAAAD,IAAA,CAC1C,KAAM,CAACE,eAAe,CAAEC,kBAAkB,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAC5D,KAAM,CAACc,eAAe,CAAEC,kBAAkB,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAC5D,KAAM,CAACgB,QAAQ,CAAEC,WAAW,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAE/CC,SAAS,CAAC,IAAM,CACd,GAAIU,KAAK,CAACO,QAAQ,CAACC,MAAM,CAAG,CAAC,CAAE,CAC7BN,kBAAkB,CAACF,KAAK,CAACO,QAAQ,CAAC,CAAC,CAAC,CAAC,CACrCH,kBAAkB,CAACJ,KAAK,CAACO,QAAQ,CAAC,CAAC,CAAC,CAACE,QAAQ,CAAC,CAAC,CAAC,CAAC,CACnD,CACF,CAAC,CAAE,CAACT,KAAK,CAAC,CAAC,CAEX,mBACEH,KAAA,QAAKa,SAAS,CAAC,+BAA+B,CAAAC,QAAA,eAC5ChB,IAAA,WACEe,SAAS,CAAC,4EAA4E,CACtFE,OAAO,CAAEA,CAAA,GAAMN,WAAW,CAAC,IAAI,CAAE,CAAAK,QAAA,cAEjChB,IAAA,CAACF,IAAI,EAACoB,IAAI,CAAE,EAAG,CAAE,CAAC,CACZ,CAAC,cAETlB,IAAA,QACEe,SAAS,2JAAAI,MAAA,CACLT,QAAQ,CAAG,eAAe,CAAG,mBAAmB,0CACvB,CAAAM,QAAA,CAE5BX,KAAK,CAACO,QAAQ,CAACQ,GAAG,CAAC,CAACC,OAAO,CAAEC,GAAG,gBAC/BtB,IAAA,CAACJ,eAAe,EAEdyB,OAAO,CAAEA,OAAQ,CACjBE,QAAQ,CAAEF,OAAO,GAAKf,eAAgB,CACtCkB,QAAQ,CAAEA,CAAA,GAAMjB,kBAAkB,CAACc,OAAO,CAAE,CAC5Cb,eAAe,CAAEA,eAAgB,CACjCiB,eAAe,CAAGC,EAAE,EAAK,CACvBjB,kBAAkB,CAACiB,EAAE,CAAC,CACtBf,WAAW,CAAC,KAAK,CAAC,CACpB,CAAE,EARGW,GASN,CACF,CAAC,CACC,CAAC,CAELZ,QAAQ,eACPV,IAAA,QACEe,SAAS,CAAC,qDAAqD,CAC/DE,OAAO,CAAEA,CAAA,GAAMN,WAAW,CAAC,KAAK,CAAE,CAC9B,CACP,cAEDX,IAAA,QAAKe,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CACjDR,eAAe,eAAIR,IAAA,CAACH,SAAS,EAAC8B,MAAM,CAAEnB,eAAe,CAACmB,MAAO,CAAE,CAAC,CAC9D,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}